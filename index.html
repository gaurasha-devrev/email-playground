<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTML Input and JavaScript Function Executor</title>

    <style>
        /* Set up flexbox for side-by-side layout */
        .container-wrapper {
            display: flex;
            gap: 10px;
            justify-content: space-between;
        }

        /* Style for each container */
        .container {
            flex: 1;
            padding: 5px;
            border: 1px solid #ccc;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        /* Ensure text areas take full width of their containers */
        textarea {
            width: 100%;
        }

        .textarea-container {
            margin-bottom: 5px;
        }

        .output {
            border: 1px solid #ccc;
            padding: 10px;
        }

        .predefined-functions {
            margin-bottom: 20px;
        }
    </style>
</head>
<body>

    <div class="container-wrapper">
        <div class="container">
            <h2>HTML Input 1</h2>
            <div class="textarea-container">
                <textarea id="htmlInput1" rows="10" cols="50"></textarea>
            </div>
        </div>

        <div class="container">
            <h2>HTML Input 2</h2>
            <div class="textarea-container">
                <textarea id="htmlInput2" rows="10" cols="50"></textarea>
            </div>
        </div>

        <div class="container">
            <h2>Predefined JavaScript Functions</h2>
            <div class="predefined-functions">
                <input type="radio" name="predefined" onclick="loadFunction(1)"> Concatenate HTML<br>
                <input type="radio" name="predefined" onclick="loadFunction(2)"> Swap HTML<br>
                <input type="radio" name="predefined" onclick="loadFunction(3)"> Add Div Wrappers<br>
            </div>
        </div>
    </div>

    <div class="container">
        <h2>Custom JavaScript Function</h2>
        <textarea id="jsFunction" rows="10" cols="50">function myFunction(html1, html2) {
            return html1 + ' ' + html2;
        }</textarea>
        <button onclick="runFunction()">Run JavaScript Function</button>
    </div>

    <div class="container">
        <h2>Output</h2>
        <div id="outputContainer" class="output"></div>
    </div>

    <script>
        // Load predefined function from external JS file
        function loadFunction(id) {
            fetch(`functions/function${id}.js`)
                .then(response => {
                    if (!response.ok) throw new Error("Network response was not ok");
                    return response.text();
                })
                .then(data => {
                    const jsFunctionTextArea = document.getElementById('jsFunction');
                    console.log(data);
                    jsFunctionTextArea.value = data;
                })
                .catch(error => {
                    alert("Error loading function: " + error.message);
                });
        }

        // Function to execute the user-defined JavaScript function with the HTML inputs
        function runFunction() {
            const html1 = document.getElementById('htmlInput1').value;
            const html2 = document.getElementById('htmlInput2').value;
            const jsCode = document.getElementById('jsFunction').value;

            try {
                // Create the function from user input
                const userFunction = new Function('html1', 'html2', jsCode + '; return myFunction(html1, html2);');
                const result = userFunction(html1, html2);

                // Display the result in the output container
                const outputContainer = document.getElementById('outputContainer');
                outputContainer.innerHTML = result + 
                    '<div style="border-top: 2px solid #ccc; margin: 10px 0;"></div>' +
                    '<strong>HTML Input 1:</strong><br>' + html1 + 
                    '<div style="border-top: 2px solid #ccc; margin: 10px 0;"></div>' +
                    '<strong>HTML Input 2:</strong><br>' + html2 + 
                    '<div style="border-top: 2px solid #ccc; margin: 10px 0;"></div>';
            } catch (error) {
                alert("Error in JavaScript function: " + error.message);
            }
        }
    </script>
</body>
</html>
